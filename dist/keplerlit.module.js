var t={97:(t,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorMap=o.addColorMap=o.colorMapNames=o.createLut=void 0;var e=i(879);o.createLut=function(t,o,i){void 0===i&&(i=1);for(var e=r[t]||r.Rainbow,s=[],a=0,h=0;h<i;++h)e.forEach(function(t){s.push([a+t[0]/i,t[1]])}),a+=1/i;return new n(s,o)},o.colorMapNames=function(){for(var t=[],o=0,i=Object.entries(r);o<i.length;o++){var e=i[o],n=e[0];e[1],t.push(n)}return t},o.addColorMap=function(t,o){r[t]=o};var n=function(){function t(t,o){this.map=[],this.lut=[],this.n=256,this.minV=0,this.maxV=1,this.setColorMap(t,o)}return t.addColorMap=function(t,o){r[t]=o},Object.defineProperty(t.prototype,"mapColors",{get:function(){return this.map},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){return this.canvas_},enumerable:!1,configurable:!0}),t.prototype.set=function(o){return o instanceof t&&this.copy(o),this},Object.defineProperty(t.prototype,"length",{get:function(){return this.map.length},enumerable:!1,configurable:!0}),t.prototype.setMin=function(t){return this.minV=t,this},t.prototype.setMax=function(t){return this.maxV=t,this},t.prototype.setColorMap=function(t,o){Array.isArray(t)?this.map=t:this.map=r[t]||r.Rainbow,this.n=o||32;var i=1/this.n;this.lut=[];for(var n=0;n<=1;n+=i)for(var s=0;s<this.map.length-1;s++)if(n>=this.map[s][0]&&n<this.map[s+1][0]){var a=this.map[s][0],h=this.map[s+1][0],c=new e.Color(this.map[s][1]),p=new e.Color(this.map[s+1][1]),l=c.lerp(p,(n-a)/(h-a));this.lut.push(l)}return this},t.prototype.copy=function(t){return this.lut=t.lut,this.map=t.map,this.n=t.n,this.minV=t.minV,this.maxV=t.maxV,this},t.prototype.getColor=function(t){t<=this.minV?t=this.minV:t>=this.maxV&&(t=this.maxV),t=(t-this.minV)/(this.maxV-this.minV);var o=Math.round(t*this.n);return o===this.n&&(o-=1),this.lut[o]},t.prototype.createCanvas=function(t,o){void 0===t&&(t=document),void 0===o&&(o=1);var i=t.createElement("canvas");return i.width=o,i.height=this.n,this.updateCanvas(i),i},t.prototype.updateCanvas=function(t){this.canvas_=t;for(var o=t.getContext("2d",{alpha:!1}),i=0,n=1/this.n,r=1;r>=0;r-=n)for(var s=this.map.length-1;s>=0;s--)if(r<this.map[s][0]&&r>=this.map[s-1][0]){var a=this.map[s-1][0],h=this.map[s][0],c=new e.Color(this.map[s-1][1]),p=new e.Color(this.map[s][1]),l=c.lerp(p,(r-a)/(h-a));o.fillStyle="rgb(".concat(Math.round(255*l.r),", ").concat(Math.round(255*l.g),", ").concat(Math.round(255*l.b),")"),o.fillRect(0,i,15,1),i+=1}return t},t}();o.ColorMap=n;var r={Cooltowarm:[[0,3952322],[.2,10206463],[.5,14474460],[.8,16163717],[1,11797542]],Blackbody:[[0,0],[.2,7864320],[.5,15086080],[.8,16776960],[1,16777215]],Grayscale:[[0,0],[.2,4210752],[.5,8355712],[.8,12566463],[1,16777215]],Insar:[[0,327893],[.3,47871],[.5,65478],[.7,16580352],[1,13631488]],InsarBanded:[[0,327893],[.02040816326530612,47871],[.04081632653061224,65478],[.061224489795918366,16580352],[.08163265306122448,13631488],[.1020408163265306,327893],[.12244897959183673,47871],[.14285714285714285,65478],[.16326530612244897,16580352],[.18367346938775508,13631488],[.2040816326530612,327893],[.22448979591836732,47871],[.24489795918367346,65478],[.26530612244897955,16580352],[.2857142857142857,13631488],[.3061224489795918,327893],[.32653061224489793,47871],[.3469387755102041,65478],[.36734693877551017,16580352],[.3877551020408163,13631488],[.4081632653061224,327893],[.42857142857142855,47871],[.44897959183673464,65478],[.4693877551020408,16580352],[.4897959183673469,13631488],[.5102040816326531,327893],[.5306122448979591,47871],[.5510204081632653,65478],[.5714285714285714,16580352],[.5918367346938775,13631488],[.6122448979591836,327893],[.6326530612244897,47871],[.6530612244897959,65478],[.673469387755102,16580352],[.6938775510204082,13631488],[.7142857142857142,327893],[.7346938775510203,47871],[.7551020408163265,65478],[.7755102040816326,16580352],[.7959183673469387,13631488],[.8163265306122448,327893],[.836734693877551,47871],[.8571428571428571,65478],[.8775510204081632,16580352],[.8979591836734693,13631488],[.9183673469387754,327893],[.9387755102040816,47871],[.9591836734693877,65478],[.9795918367346939,16580352],[.9999999999999999,13631488]],Rainbow:[[0,16711680],[.2,16776192],[.4,65286],[.6,65532],[.8,393471],[1,16122111]],Igeoss:[[0,13863],[.1,35387],[.2,6864397],[.3,14081792],[.4,16437248],[.5,16760848],[.6,16756238],[.7,16751366],[.8,16406528],[.9,15204360],[1,8912899]],Stress:[[0,255],[.33,16777215],[.331,51200],[.66,16777215],[.661,16711680],[1,16777215]],Blue_White_Red:[[0,4863],[.5,16777215],[1,16711680]],Blue_Green_Red:[[0,4863],[.25,16777215],[.5,65280],[.275,16777215],[1,16711680]],Spectrum:[[0,16777215],[.1428,16711680],[.2856,16711932],[.4284,393471],[.5712,63231],[.714,65286],[.8568,16776192],[1,16711680]],Default:[[0,786687],[.25,64767],[.5,65292],[.75,16187136],[1,16711680]],Banded:[[0,16774605],[.1666,16750080],[.1667,13565905],[.3333,1077504],[.3334,13952251],[.5,90031],[.5001,15458043],[.6666,12911262],[.6667,16773323],[.8333,8674560],[.8334,16373976],[1,14286848]]}},156:function(t,o,i){var e=this&&this.__createBinding||(Object.create?function(t,o,i,e){void 0===e&&(e=i);var n=Object.getOwnPropertyDescriptor(o,i);n&&!("get"in n?!o.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(t,e,n)}:function(t,o,i,e){void 0===e&&(e=i),t[e]=o[i]}),n=this&&this.__exportStar||function(t,o){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(o,i)||e(o,t,i)};Object.defineProperty(o,"__esModule",{value:!0}),n(i(879),o),n(i(97),o),n(i(185),o),n(i(906),o),n(i(487),o),n(i(859),o),n(i(291),o),n(i(797),o),n(i(610),o)},185:(t,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.fromValuesToColors=o.fromValueToColor=o.scale=o.normalize=o.min=o.max=o.minMax=o.lerp=void 0;var e=i(97);function n(t){for(var o=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,e=t.length,n=0;n<e;++n){var r=t[n];r<o&&(o=r),r>i&&(i=r)}return[o,i]}o.lerp=function(t,o,i){if(t<0||t>1)throw new Error("t must be clamped to the range [0,1]. Got ".concat(t));return(1-t)*o+t*i},o.minMax=n,o.max=function(t){for(var o=Number.NEGATIVE_INFINITY,i=t.length,e=0;e<i;++e){var n=t[e];n>o&&(o=n)}return o},o.min=function(t){for(var o=Number.POSITIVE_INFINITY,i=t.length,e=0;e<i;++e){var n=t[e];n<o&&(o=n)}return o},o.normalize=function(t){var o=n(t);return t.map(function(t){return(t-o[0])/(o[1]-o[0])})},o.scale=function(t,o){return t.map(function(t){return t*o})},o.fromValueToColor=function(t,o){var i=o.min,e=void 0===i?0:i,n=o.max,r=void 0===n?1:n,s=o.lutTable,a=o.defaultColor,h=o.reverse,c=void 0!==h&&h;if(t<0||t>1)throw new Error("value *must% be normalized. Got ".concat(t));var p=c?1-t:t;if(p>=e&&p<=r){var l=s.getColor(p);return[l.r,l.g,l.b]}return[a.r,a.g,a.b]},o.fromValuesToColors=function(t,o){var i=o.defaultColor,r=o.lut,s=o.duplicateLut,a=void 0===s?1:s,h=o.min,c=void 0===h?0:h,p=o.max,l=void 0===p?1:p,u=o.lockLut,f=void 0===u||u,d=o.reverse,v=void 0!==d&&d,y=r instanceof e.ColorMap?r:(0,e.createLut)(r,32,a),g=n(t),m=g[0],b=g[1];f?y.setMin(0).setMax(1):y.setMin(c).setMax(l);var _=new Array(3*t.length).fill(0);return t.forEach(function(t,o){var e=v?(t-b)/(m-b):(t-m)/(b-m);if(e>=c&&e<=l){var n=y.getColor(e);_[3*o]=n.r,_[3*o+1]=n.g,_[3*o+2]=n.b}else _[3*o]=i.r,_[3*o+1]=i.g,_[3*o+2]=i.b}),_}},291:function(t,o){var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var o,i=1,e=arguments.length;i<e;i++)for(var n in o=arguments[i])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t},i.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0}),o.BaseOverlay=void 0;var e=function(){function t(t){if(this.animationId=null,this.isVisible=!0,this.canvas=t.canvas,this.overlayCanvas=document.createElement("canvas"),this.overlayCanvas.width=this.canvas.width,this.overlayCanvas.height=this.canvas.height,this.overlayCanvas.style.position="absolute",this.overlayCanvas.style.top="0",this.overlayCanvas.style.left="0",this.overlayCanvas.style.pointerEvents="none",this.overlayCanvas.style.zIndex="1000",this.canvas.parentElement){var o=this.canvas.parentElement;"static"===getComputedStyle(o).position&&(o.style.position="relative"),o.appendChild(this.overlayCanvas)}else document.body.appendChild(this.overlayCanvas);var e=this.overlayCanvas.getContext("2d");if(!e)throw new Error("Unable to get 2D context from overlay canvas");this.ctx=e,this.options=i({fontSize:11,fontFamily:"Arial, sans-serif",textColor:"#333333",backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#cccccc",borderWidth:1,labelOffset:25,precision:1},t),this.render()}return t.prototype.formatValue=function(t,o){return Math.abs(t)>=1e3||Math.abs(t)<.01&&0!==t?t.toExponential(1):t%1==0&&Math.abs(t)<100?t.toString():t.toFixed(o)},t.prototype.render=function(){this.isVisible&&this.ctx.clearRect(0,0,this.overlayCanvas.width,this.overlayCanvas.height)},t.prototype.updatePosition=function(t,o){this.options.x=t,this.options.y=o,this.render()},t.prototype.updateSize=function(t,o){this.options.width=t,this.options.height=o,this.render()},t.prototype.resize=function(t,o){this.overlayCanvas.width=t,this.overlayCanvas.height=o,this.render()},t.prototype.destroy=function(){this.animationId&&cancelAnimationFrame(this.animationId),this.overlayCanvas.parentElement&&this.overlayCanvas.parentElement.removeChild(this.overlayCanvas)},t.prototype.show=function(){this.isVisible=!0,this.overlayCanvas.style.display="block",this.render()},t.prototype.hide=function(){this.isVisible=!1,this.overlayCanvas.style.display="none"},t.prototype.toggle=function(){this.isVisible?this.hide():this.show()},t.prototype.redraw=function(){this.render()},t.prototype.getOptions=function(){return i({},this.options)},t.prototype.isShown=function(){return this.isVisible},t}();o.BaseOverlay=e},487:(t,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createIsoContourLines=void 0;var e=i(879),n=i(97),r=i(747),s=i(185);o.createIsoContourLines=function(t,o,i,a,h){var c=this;if(void 0===t)throw new Error("mesh is undefined");if(void 0===t.getPositions())throw new Error("mesh.positions is undefined");if(void 0===t.getIndices())throw new Error("mesh.indices is undefined");if(void 0===o)throw new Error("attribute is undefined");var p=(0,s.minMax)(o),l=p[0],u=p[1],f=void 0;null==h&&((f=(0,n.createLut)(h,128)).setMin(l),f.setMax(u));var d=new e.Color(a),v=i,y=new r.MarchingTriangles;y.setup(t.getIndices(),[l,u]);for(var g=t.getPositions(),m=[],b=[],_=function(t){return(t-c.vmin_)/(c.vmax_-c.vmin_)},x=0;x<v.length;++x){var w=y.isolines(o,v[x]),C=(0,s.fromValueToColor)(_(v[x]),{min:l,max:u,defaultColor:d,lutTable:f});b.push.apply(b,C);for(var M=0;M<w[0].length;++M)for(var S=0;S<w[0][M].length-2;S+=2){var A=w[0][M][S],T=w[0][M][S+1],I=w[1][M][S/2],P=g.get(A),O=g.get(T),V=P[0],E=P[1],k=P[2],z=O[0],j=O[1],N=O[2];m.push(V+I*(z-V),E+I*(j-E),k+I*(N-k))}}return{positions:m,color:b}}},610:function(t,o,i){var e,n=this&&this.__extends||(e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},e(t,o)},function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}),r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var o,i=1,e=arguments.length;i<e;i++)for(var n in o=arguments[i])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t},r.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0}),o.Compass2D=void 0;var s=function(t){function o(o){var i,e,n,s,a,h,c,p,l,u,f,d,v,y=this;return(y=t.call(this,o)||this).options=r({width:200,height:200,x:100,y:100,fontSize:11,fontFamily:"Arial, sans-serif",textColor:"#333333",backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#cccccc",borderWidth:1,labelOffset:25,precision:1,cameraAngle:null!==(i=o.cameraAngle)&&void 0!==i?i:o.cameraAngle=45,opacity:null!==(e=o.opacity)&&void 0!==e?e:o.opacity=.9,visible:null!==(n=o.visible)&&void 0!==n?n:o.visible=!0,colors:{primary:null!==(s=(l=o.colors).primary)&&void 0!==s?s:l.primary="#ff4444",secondary:null!==(a=(u=o.colors).secondary)&&void 0!==a?a:u.secondary="#ffffff",accent:null!==(h=(f=o.colors).accent)&&void 0!==h?h:f.accent="#ffaa00",background:null!==(c=(d=o.colors).background)&&void 0!==c?c:d.background="rgba(0,0,0,0.4)",text:null!==(p=(v=o.colors).text)&&void 0!==p?p:v.text="#ffffff"}},o),y.canvas.width=window.innerWidth,y.canvas.height=window.innerHeight,y.render(),y}return n(o,t),o.prototype.setPosition=function(t,o){this.options.x=t,this.options.y=o},o.prototype.setPositionByName=function(t){var o=this.options.width+20;switch(t){case"top-right":this.setPosition(this.canvas.width-o,o);break;case"top-left":this.setPosition(o,o);break;case"bottom-right":this.setPosition(this.canvas.width-o,this.canvas.height-o);break;case"bottom-left":this.setPosition(o,this.canvas.height-o);break;case"center":this.setPosition(this.canvas.width/2,this.canvas.height/2)}},o.prototype.setCameraAngle=function(t){this.options.cameraAngle=t},o.prototype.setOpacity=function(t){this.options.opacity=t},o.prototype.setVisible=function(t){this.options.visible=t},o.prototype.setOrientationCallback=function(t){this.onOrientationChange=t},o.prototype.getDirectionAngle=function(t){return{N:0,NE:45,E:90,SE:135,S:180,SW:225,W:270,NW:315,center:this.options.cameraAngle}[t]},o.prototype.getCurrentDirection=function(){var t=(this.options.cameraAngle%360+360)%360;return t>=337.5||t<22.5?"N":t>=22.5&&t<67.5?"NE":t>=67.5&&t<112.5?"E":t>=112.5&&t<157.5?"SE":t>=157.5&&t<202.5?"S":t>=202.5&&t<247.5?"SW":t>=247.5&&t<292.5?"W":t>=292.5&&t<337.5?"NW":"N"},o.prototype.orientToDirection=function(t,o){void 0===o&&(o=!0);var i=this.getDirectionAngle(t);o?this.animateToAngle(i):(this.setCameraAngle(i),this.render()),this.onOrientationChange&&this.onOrientationChange(t,i)},o.prototype.animateToAngle=function(t,o){var i=this;void 0===o&&(o=1e3);var e=this.options.cameraAngle,n=Date.now(),r=t-e;r>180&&(r-=360),r<-180&&(r+=360);var s=function(){var t=Date.now()-n,a=Math.min(t/o,1),h=a<.5?2*a*a:1-Math.pow(-2*a+2,2)/2,c=e+r*h;i.setCameraAngle(c),i.render(),a<1&&requestAnimationFrame(s)};s()},o.prototype.getAvailableDirections=function(){return["N","NE","E","SE","S","SW","W","NW","center"]},o.prototype.drawArrow=function(t,o,i,e){void 0===e&&(e=2);var n=this.ctx;if(n){var r=(t+this.options.cameraAngle)*Math.PI/180,s=this.options.x+Math.cos(r)*o,a=this.options.y+Math.sin(r)*o;n.save(),n.globalAlpha=this.options.opacity,n.strokeStyle=i,n.fillStyle=i,n.lineWidth=e,n.lineCap="round",n.beginPath(),n.moveTo(this.options.x,this.options.y),n.lineTo(s,a),n.stroke();var h=.25*o,c=Math.PI/6;n.beginPath(),n.moveTo(s,a),n.lineTo(s-h*Math.cos(r-c),a-h*Math.sin(r-c)),n.moveTo(s,a),n.lineTo(s-h*Math.cos(r+c),a-h*Math.sin(r+c)),n.stroke(),n.restore()}},o.prototype.drawDirectionLabel=function(t,o,i){var e=this.ctx;if(e){var n=(t+this.options.cameraAngle)*Math.PI/180,r=this.options.x+Math.cos(n)*i,s=this.options.y+Math.sin(n)*i;e.save(),e.globalAlpha=this.options.opacity,e.fillStyle=this.options.colors.text,e.font="bold ".concat(.2*this.options.width,"px Arial"),e.textAlign="center",e.textBaseline="middle",e.shadowColor="rgba(0,0,0,0.8)",e.shadowBlur=2,e.shadowOffsetX=1,e.shadowOffsetY=1,e.fillText(o,r,s),e.restore()}},o.prototype.drawTicks=function(){var t=this.ctx;if(t){t.save(),t.globalAlpha=.7*this.options.opacity;for(var o=0;o<360;o+=45){var i=(o+this.options.cameraAngle)*Math.PI/180,e=.7*this.options.width,n=.85*this.options.width,r=this.options.x+Math.cos(i)*e,s=this.options.y+Math.sin(i)*e,a=this.options.x+Math.cos(i)*n,h=this.options.y+Math.sin(i)*n;t.strokeStyle=this.options.colors.secondary,t.lineWidth=1.5,t.beginPath(),t.moveTo(r,s),t.lineTo(a,h),t.stroke()}t.restore()}},o.prototype.drawBackground=function(){var t=this.ctx;t&&(t.save(),t.globalAlpha=this.options.opacity,t.fillStyle=this.options.colors.background,t.strokeStyle=this.options.colors.secondary,t.lineWidth=2,t.beginPath(),t.arc(this.options.x,this.options.y,this.options.width,0,2*Math.PI),t.fill(),t.stroke(),t.fillStyle=this.options.colors.accent,t.beginPath(),t.arc(this.options.x,this.options.y,3,0,2*Math.PI),t.fill(),t.restore())},o.prototype.render=function(){if(this.options.visible&&this.ctx){t.prototype.render.call(this),this.drawBackground(),this.drawTicks(),this.drawArrow(0,.6*this.options.width,this.options.colors.primary,3),this.drawArrow(180,.5*this.options.width,this.options.colors.secondary,2),this.drawArrow(90,.5*this.options.width,this.options.colors.secondary,2),this.drawArrow(270,.5*this.options.width,this.options.colors.secondary,2);var o=1.15*this.options.width;this.drawDirectionLabel(0,"N",o),this.drawDirectionLabel(90,"E",o),this.drawDirectionLabel(180,"S",o),this.drawDirectionLabel(270,"W",o)}},o}(i(291).BaseOverlay);o.Compass2D=s},747:(t,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MarchingTriangles=void 0;var e=i(185),n=function(){function t(){this.topo_=[],this.lock_=!1,this.maxVertexIndex_=-1,this._bounds=[]}return t.prototype.setup=function(t,o){this.lock_=!1,this.maxVertexIndex_=-1,this._bounds=o,this.topo_=[];for(var i=0;i<t.array.length;i+=3){var e=t.array[i],n=t.array[i+1],r=t.array[i+2];if(this.topo_.push({i:e,j:n,k:r}),e===n||e===r||n===r)throw new Error("Error in topology while setting up iso-contouring in 'MarchingTriangles.' At index ".concat(i,", got 3 indices (").concat(e,", ").concat(n,", ").concat(r,")"));this.maxVertexIndex_=Math.max(this.maxVertexIndex_,e,n,r)}return this.lock_=!0,!0},t.prototype.isolines=function(t,o){var i=[[]];if(!1===this.lock_)return i;if(t.length<0)return i;void 0===this._bounds&&(this._bounds=(0,e.minMax)(t));for(var n=new Map,h=[],c=[0,0,0],p=new Map(new Map),l=0;l<this.topo_.length;++l){c[0]=this.topo_[l].i,c[1]=this.topo_[l].j,c[2]=this.topo_[l].k;var u=void 0,f=void 0,d=t[c[0]],v=t[c[1]],y=t[c[2]];if(!1!==r(d,v,y,this._bounds[0],this._bounds[1])){u=v>=o?1:0,f=y>=o?1:0;var g=a[d>=o?1:0][u][f];if(g>0&&g<7){n.set(l,g),h[0]=s[g][0],h[1]=s[g][1];for(var m=0;m<2;++m){var b=((z=h[m])+1)%3;z=c[z],b=c[b];var _=Math.min(z,b),x=Math.max(z,b);if(_ in p)p.get(_).get(x).push(l);else{var w=new Map;w.set(x,[l]),p.set(_,w)}}}}}for(;!(n.size<=0);){var C=[],M=[],S=n.keys().next().value,A=n.get(S);if(n.delete(n.keys().next().value),!(A<1||A>6)){c[0]=this.topo_[S].i,c[1]=this.topo_[S].j,c[2]=this.topo_[S].k,h[0]=s[A][0],h[1]=s[A][1];var T=[],I=[];for(m=0;m<2;++m)b=((z=h[m])+1)%3,z=c[z],b=c[b],C.push(z),C.push(b),M.push((o-t[z])/(t[b]-t[z])),_=Math.min(z,b),x=Math.max(z,b),0===m?(T[0]=_,T[1]=x):(I[0]=_,I[1]=x);var P=0,O=0;do{for(var V=S;;){var E=[p.get(I[0]).get(I[1])];if(1===E.length)break;V=E[0]+E[1]-V;var k=n.get(V);if(!(k in n))break;for(A=k.second,n.delete(k),c[0]=this.topo_[V].i,c[1]=this.topo_[V].j,c[2]=this.topo_[V].k,h[0]=s[A][0],h[1]=s[A][1],m=0;m<2;++m){var z;if(b=((z=h[m])+1)%3,z=c[z],b=c[b],_=Math.min(z,b),x=Math.max(z,b),_!==I[0]||x!==I[1]){C.push(z),C.push(b),M.push((o-t[z])/(t[b]-t[z])),I[0]=_,I[1]=x;break}}}if(I[0]===T[0]&&I[1]===T[1]){C.push(C[0]),C.push(C[1]),M.push(M[0]),P=M.length;break}0===O&&(I[0]=T[0],I[1]=T[1],P=M.length),++O}while(O<2);if(P===M.length)i[0].push(C),void 0===i[1]?i[1]=[M]:i[1].push(M);else{for(var j=[],N=[],B=C.length-1;B>=2*P;--B)j.push(C[B]);for(B=M.length-1;B>=P;--B)N.push(1-M[B]);for(B=0;B<2*P;++B)j.push(C[B]);for(B=0;B<P;++B)N.push(M[B]);i[0].push(j),i[1].push(N)}}}return i},t}();function r(t,o,i,e,n){function r(t,o,i){return t>=o&&t<=i}return r(t,e,n)&&r(o,e,n)&&r(i,e,n)}o.MarchingTriangles=n;var s=[[-1,-1],[1,2],[0,1],[2,0],[2,0],[0,1],[1,2],[-1,-1]],a=[[[0,1],[2,3]],[[4,5],[6,7]]]},797:function(t,o,i){var e,n=this&&this.__extends||(e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},e(t,o)},function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}),r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var o,i=1,e=arguments.length;i<e;i++)for(var n in o=arguments[i])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t},r.apply(this,arguments)},s=this&&this.__spreadArray||function(t,o,i){if(i||2===arguments.length)for(var e,n=0,r=o.length;n<r;n++)!e&&n in o||(e||(e=Array.prototype.slice.call(o,0,n)),e[n]=o[n]);return t.concat(e||Array.prototype.slice.call(o))};Object.defineProperty(o,"__esModule",{value:!0}),o.ColorScale=void 0;var a=function(t){function o(o){var i=t.call(this,o)||this;return i.options=r({fontSize:11,fontFamily:"Arial, sans-serif",textColor:"#333333",backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"#cccccc",borderWidth:1,labelOffset:25,precision:1},o),i.render(),i}return n(o,t),o.prototype.getColorAtValue=function(t){var o=this.options,i=o.min,e=o.max,n=o.colorStops,r=Math.max(0,Math.min(1,(t-i)/(e-i))),a=s([],n,!0).sort(function(t,o){return t.position-o.position});if(r<=a[0].position)return a[0].color;if(r>=a[a.length-1].position)return a[a.length-1].color;for(var h=0;h<a.length-1;h++){var c=a[h],p=a[h+1];if(r>=c.position&&r<=p.position){var l=(r-c.position)/(p.position-c.position);return this.interpolateColor(c.color,p.color,l)}}return a[0].color},o.prototype.updateRange=function(t,o){this.options.min=t,this.options.max=o,this.render()},o.prototype.updateColorStops=function(t){this.options.colorStops=t,this.render()},o.prototype.updateOrientation=function(t){this.options.orientation=t,this.render()},o.prototype.updateAttributeName=function(t){this.options.attributeName=t,this.render()},o.prototype.getOptions=function(){return r({},this.options)},o.prototype.render=function(){this.isVisible&&(t.prototype.render.call(this),this.drawScale(),this.drawLabels())},o.prototype.interpolateColor=function(t,o,i){var e=this.hexToRgb(t),n=this.hexToRgb(o);if(!e||!n)return t;var r=Math.round(e.r+(n.r-e.r)*i),s=Math.round(e.g+(n.g-e.g)*i),a=Math.round(e.b+(n.b-e.b)*i);return"rgb(".concat(r,", ").concat(s,", ").concat(a,")")},o.prototype.hexToRgb=function(t){var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},o.prototype.createGradient=function(){var t,o=this.options,i=o.x,e=o.y,n=o.width,r=o.height,a=o.orientation,h=o.colorStops;t="vertical"===a?this.ctx.createLinearGradient(0,e+r,0,e):this.ctx.createLinearGradient(i,0,i+n,0);for(var c=0,p=s([],h,!0).sort(function(t,o){return t.position-o.position});c<p.length;c++){var l=p[c];t.addColorStop(l.position,l.color)}return t},o.prototype.drawScale=function(){var t=this.options,o=t.x,i=t.y,e=t.width,n=t.height,r=t.backgroundColor,s=t.borderColor,a=t.borderWidth;this.ctx.save(),"transparent"!==r&&(this.ctx.fillStyle=r,this.roundRect(o-1,i-1,e+2,n+2,1),this.ctx.fill());var h=this.createGradient();this.ctx.fillStyle=h,this.roundRect(o,i,e,n,1),this.ctx.fill(),a>0&&(this.ctx.strokeStyle=s,this.ctx.lineWidth=a,this.roundRect(o,i,e,n,1),this.ctx.stroke()),this.drawTickMarks(),this.ctx.restore()},o.prototype.roundRect=function(t,o,i,e,n){this.ctx.beginPath(),this.ctx.moveTo(t+n,o),this.ctx.lineTo(t+i-n,o),this.ctx.quadraticCurveTo(t+i,o,t+i,o+n),this.ctx.lineTo(t+i,o+e-n),this.ctx.quadraticCurveTo(t+i,o+e,t+i-n,o+e),this.ctx.lineTo(t+n,o+e),this.ctx.quadraticCurveTo(t,o+e,t,o+e-n),this.ctx.lineTo(t,o+n),this.ctx.quadraticCurveTo(t,o,t+n,o),this.ctx.closePath()},o.prototype.drawTickMarks=function(){var t=this.options,o=t.x,i=t.y,e=t.width,n=t.height,r=t.orientation,s=t.borderColor;this.ctx.strokeStyle=s,this.ctx.lineWidth=1;for(var a=0;a<=5;a++){var h=a/5;if("vertical"===r){var c=i+n-h*n;this.ctx.beginPath(),this.ctx.moveTo(o+e,c),this.ctx.lineTo(o+e+4,c),this.ctx.stroke()}else{var p=o+h*e;this.ctx.beginPath(),this.ctx.moveTo(p,i+n),this.ctx.lineTo(p,i+n+4),this.ctx.stroke()}}},o.prototype.drawLabels=function(){var t=this.options,o=t.x,i=t.y,e=t.width,n=t.height,r=t.min,s=t.max,a=t.orientation,h=t.fontSize,c=t.fontFamily,p=t.textColor,l=t.labelOffset,u=t.precision,f=t.attributeName;if(this.ctx.save(),this.ctx.fillStyle=p,this.ctx.font="".concat(h,"px ").concat(c),"vertical"===a){this.ctx.save(),this.ctx.translate(o+e+l+2*h,i+n/2),this.ctx.rotate(Math.PI/2),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(f,0,0),this.ctx.restore(),this.ctx.textAlign="left",this.ctx.textBaseline="middle";for(var d=0;d<=5;d++){var v=r+(s-r)*(1-(m=d/5)),y=i+m*n,g=this.formatValue(v,u);this.ctx.fillText(g,o+e+8,y)}}else for(this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.fillText(f,o+e/2,i-l-h),this.ctx.textBaseline="top",d=0;d<=5;d++){v=r+(s-r)*(m=d/5);var m,b=o+m*e;g=this.formatValue(v,u),this.ctx.fillText(g,b,i+n+8)}this.ctx.restore()},o}(i(291).BaseOverlay);o.ColorScale=a},859:function(t,o){var i,e=this&&this.__extends||(i=function(t,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},i(t,o)},function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var o,i=1,e=arguments.length;i<e;i++)for(var n in o=arguments[i])Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);return t},n.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0}),o.Uint32BufferAttribute=o.Uint16BufferAttribute=o.Float32BufferAttribute=o.BufferGeometry=o.BufferAttribute=void 0;var r=function(){function t(t,o,i){void 0===i&&(i=!1),this.array=t,this.itemSize=o,this.count=t.length/o,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.needsUpdate=!1}return t.prototype.set=function(t,o){if(o.length!==this.itemSize)throw new Error("Expected ".concat(this.itemSize," values, got ").concat(o.length));if(t<0||t>=this.count)throw new Error("Index ".concat(t," out of range [0, ").concat(this.count-1,"]"));for(var i=t*this.itemSize,e=0;e<this.itemSize;e++)this.array[i+e]=o[e];return this.needsUpdate=!0,this},t.prototype.get=function(t){if(t<0||t>=this.count)throw new Error("Index ".concat(t," out of range [0, ").concat(this.count-1,"]"));for(var o=t*this.itemSize,i=[],e=0;e<this.itemSize;e++)i.push(this.array[o+e]);return i},t.prototype.getX=function(t){if(t<0||t>=this.count)throw new Error("Index ".concat(t," out of range [0, ").concat(this.count-1,"]"));return this.array[t*this.itemSize]},t.prototype.getY=function(t){if(this.itemSize<2)throw new Error("Item size is ".concat(this.itemSize,", cannot get Y component"));return this.array[t*this.itemSize+1]},t.prototype.getZ=function(t){if(this.itemSize<3)throw new Error("Item size is ".concat(this.itemSize,", cannot get Z component"));return this.array[t*this.itemSize+2]},t.prototype.setComponent=function(t,o,i){if(t<0||t>=this.count)throw new Error("Index ".concat(t," out of range [0, ").concat(this.count-1,"]"));if(o<0||o>=this.itemSize)throw new Error("Component ".concat(o," out of range [0, ").concat(this.itemSize-1,"]"));return this.array[t*this.itemSize+o]=i,this.needsUpdate=!0,this},t.prototype.getComponent=function(t,o){if(t<0||t>=this.count)throw new Error("Index ".concat(t," out of range [0, ").concat(this.count-1,"]"));if(o<0||o>=this.itemSize)throw new Error("Component ".concat(o," out of range [0, ").concat(this.itemSize-1,"]"));return this.array[t*this.itemSize+o]},t.prototype.copy=function(t){return this.array=t.array.slice(),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.updateRange=n({},t.updateRange),this.version=t.version,this.needsUpdate=t.needsUpdate,this},t.prototype.copyAt=function(t,o,i){if(this.itemSize!==o.itemSize)throw new Error("ItemSize mismatch: ".concat(this.itemSize," vs ").concat(o.itemSize));var e=o.get(i);return this.set(t,e),this},t.prototype.clone=function(){return new t(new(0,this.array.constructor)(this.array),this.itemSize,this.normalized)},t.prototype.setUsage=function(t){return this.usage=t,this},t.prototype.getByteLength=function(){return this.array.byteLength},t.prototype.forEach=function(t){for(var o=0;o<this.count;o++)t(this.get(o),o);return this},t}();o.BufferAttribute=r;var s=function(){function t(t,o){this.attributes={},this.positions=null,this.indices=null,t&&(this.positions=t),o&&(this.indices=o)}return t.prototype.setPositions=function(t){return this.positions=t,this},t.prototype.getPositions=function(){return this.positions},t.prototype.setIndices=function(t){return this.indices=t,this},t.prototype.getIndices=function(){return this.indices},t.prototype.setAttribute=function(t,o){return this.attributes[t]=o,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.computeVertexNormals=function(){if(!this.positions)return console.warn("Cannot compute vertex normals: no position attribute found"),this;var t=this.positions,o=t.count,i=new Float32Array(3*o),e=this.getAttribute("normal");e?(i.fill(0),e.array=i):(e=new a(i,3),this.setAttribute("normal",e));var n=[0,0,0],r=[0,0,0],s=[0,0,0],h=[0,0,0],c=[0,0,0],p=[0,0,0],l=function(t,o,i){i[0]=t[1]*o[2]-t[2]*o[1],i[1]=t[2]*o[0]-t[0]*o[2],i[2]=t[0]*o[1]-t[1]*o[0]},u=function(t,o,i){i[0]=t[0]-o[0],i[1]=t[1]-o[1],i[2]=t[2]-o[2]},f=function(t,o){t[0]+=o[0],t[1]+=o[1],t[2]+=o[2]};if(this.indices)for(var d=this.indices.array,v=d.length/3,y=0;y<v;y++){var g=d[3*y],m=d[3*y+1],b=d[3*y+2];n[0]=t.getComponent(g,0),n[1]=t.getComponent(g,1),n[2]=t.getComponent(g,2),r[0]=t.getComponent(m,0),r[1]=t.getComponent(m,1),r[2]=t.getComponent(m,2),s[0]=t.getComponent(b,0),s[1]=t.getComponent(b,1),s[2]=t.getComponent(b,2),u(r,n,h),u(s,n,c),l(h,c,p);var _=[i[3*g],i[3*g+1],i[3*g+2]],x=[i[3*m],i[3*m+1],i[3*m+2]],w=[i[3*b],i[3*b+1],i[3*b+2]];f(_,p),f(x,p),f(w,p),i[3*g]=_[0],i[3*g+1]=_[1],i[3*g+2]=_[2],i[3*m]=x[0],i[3*m+1]=x[1],i[3*m+2]=x[2],i[3*b]=w[0],i[3*b+1]=w[1],i[3*b+2]=w[2]}else for(v=o/3,y=0;y<v;y++)g=3*y,m=3*y+1,b=3*y+2,n[0]=t.getComponent(g,0),n[1]=t.getComponent(g,1),n[2]=t.getComponent(g,2),r[0]=t.getComponent(m,0),r[1]=t.getComponent(m,1),r[2]=t.getComponent(m,2),s[0]=t.getComponent(b,0),s[1]=t.getComponent(b,1),s[2]=t.getComponent(b,2),u(r,n,h),u(s,n,c),l(h,c,p),i[3*g]=p[0],i[3*g+1]=p[1],i[3*g+2]=p[2],i[3*m]=p[0],i[3*m+1]=p[1],i[3*m+2]=p[2],i[3*b]=p[0],i[3*b+1]=p[1],i[3*b+2]=p[2];for(y=0;y<o;y++){var C=i[3*y],M=i[3*y+1],S=i[3*y+2],A=Math.sqrt(C*C+M*M+S*S);A>0?(i[3*y]=C/A,i[3*y+1]=M/A,i[3*y+2]=S/A):(i[3*y]=0,i[3*y+1]=1,i[3*y+2]=0)}return e.needsUpdate=!0,this},t}();o.BufferGeometry=s;var a=function(t){function o(o,i,e){void 0===e&&(e=!1);var n=o instanceof Float32Array?o:new Float32Array(o);return t.call(this,n,i,e)||this}return e(o,t),o}(r);o.Float32BufferAttribute=a;var h=function(t){function o(o,i,e){void 0===e&&(e=!1);var n=o instanceof Uint16Array?o:new Uint16Array(o);return t.call(this,n,i,e)||this}return e(o,t),o}(r);o.Uint16BufferAttribute=h;var c=function(t){function o(o,i,e){void 0===e&&(e=!1);var n=o instanceof Uint32Array?o:new Uint32Array(o);return t.call(this,n,i,e)||this}return e(o,t),o}(r);o.Uint32BufferAttribute=c},879:(t,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Color=void 0;var i=function(){function t(o){if(o)if(Array.isArray(o)){if(3!==o.length)throw new Error("RGB array must have exactly 3 elements");this.r=o[0],this.g=o[1],this.b=o[2]}else if("string"==typeof o){if(!/^#([0-9A-F]{3}|[0-9A-F]{6})$/i.test(o))throw new Error("Invalid hex color format");this.setHex(o)}else if("number"==typeof o)this.setHex(t.toHexString(o));else if("number"==typeof o)this.setHex(t.toHexString(o));else{if("object"!=typeof o)throw new Error("Invalid color format. Must be an array of 3 numbers, a hex string, or a Color instance. Got ".concat(o));this.r=o.r,this.g=o.g,this.b=o.b}else this.r=0,this.g=0,this.b=0}return t.prototype.lerp=function(o,i){if(i<0||i>1)throw new Error("Interpolation factor t must be between 0 and 1");if(!(o instanceof t))throw new Error("Argument must be an instance of Color");return new t({r:this.r+(o.r-this.r)*i,g:this.g+(o.g-this.g)*i,b:this.b+(o.b-this.b)*i})},t.toHexString=function(t){return"#"+(16777215&t).toString(16).padStart(6,"0").toUpperCase()},t.prototype.toHex=function(){var t=Math.round(255*this.r).toString(16).padStart(2,"0"),o=Math.round(255*this.g).toString(16).padStart(2,"0"),i=Math.round(255*this.b).toString(16).padStart(2,"0");return"#".concat(t).concat(o).concat(i)},t.prototype.setHex=function(t){if(6!==(t=t.replace("#","")).length)throw new Error("Invalid hex color format");return this.r=parseInt(t.substring(0,2),16)/255,this.g=parseInt(t.substring(2,4),16)/255,this.b=parseInt(t.substring(4,6),16)/255,this},t}();o.Color=i},906:function(t,o,i){var e=this&&this.__spreadArray||function(t,o,i){if(i||2===arguments.length)for(var e,n=0,r=o.length;n<r;n++)!e&&n in o||(e||(e=Array.prototype.slice.call(o,0,n)),e[n]=o[n]);return t.concat(e||Array.prototype.slice.call(o))};Object.defineProperty(o,"__esModule",{value:!0}),o.IsoContoursFilled=o.createIsoContoursFilled=void 0;var n=i(879),r=i(97),s=i(185);o.createIsoContoursFilled=function(t,o,i,e){var n=void 0===e?{}:e,r=n.min,s=void 0===r?void 0:r,h=n.max,c=void 0===h?void 0:h,p=n.lut,l=void 0===p?"Rainbow":p,u=n.nbColors;return new a(l,void 0===u?128:u,i).run(t,o,s,c)};var a=function(){function t(t,o,i){this.attr=void 0,this.nodes_=void 0,this.segment_list_=[],this.vmin_=0,this.vmax_=1,this.color_=new n.Color("#000000"),this.lutTable_=(0,r.createLut)("Insar",128),this.position_=[],this.index_=[],this.colors_=[],this.isoValues_=[],this.normals_=[],this.nnormals_=void 0,this.color_=new n.Color("#000000"),this.lutTable_=(0,r.createLut)(t,o),this.lutTable_.setMin(0),this.lutTable_.setMax(1),this.isoValues_=i}return Object.defineProperty(t.prototype,"position",{get:function(){return this.position_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.index_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.colors_},enumerable:!1,configurable:!0}),t.prototype.run=function(t,o,i,e){void 0===i&&(i=void 0),void 0===e&&(e=void 0),this.attr=o;var n=(0,s.minMax)(this.attr);if(this.vmin_=void 0!==i?i:n[0],this.vmax_=void 0!==e?e:n[1],0===this.isoValues_.length)return{position:[],index:[],color:[],normal:[]};var r=t.getIndices().array;this.nodes_=t.getPositions(),this.nnormals_=t.getAttribute("normal"),void 0===this.nnormals_&&(t.computeVertexNormals(),this.nnormals_=t.getAttribute("normal"));for(var a=0;a<r.length;a+=3)this.classify(r[a],r[a+1],r[a+2]);return{position:this.position_,index:this.index_,color:this.colors_,normal:this.normals_}},t.prototype.normalizeAttr=function(t){return(t-this.vmin_)/(this.vmax_-this.vmin_)},t.prototype.getNode=function(t){return this.nodes_.get(t)},t.prototype.getNormal=function(t){return this.nnormals_.get(t)},t.prototype.getAttr=function(t){return this.attr[t]},t.prototype.classify=function(t,o,i){var e,n,r,s,a,h,p=new c;p.v1=this.getAttr(t),p.p1=this.getNode(t),p.n1=this.getNormal(t),p.v2=this.getAttr(o),p.p2=this.getNode(o),p.n2=this.getNormal(o),p.v3=this.getAttr(i),p.p3=this.getNode(i),p.n3=this.getNormal(i);var l=0,u=0,f=0;if(p.v1<=p.v2&&p.v1<=p.v3)s=p.p1,l=p.v1,e=p.n1,p.v2<=p.v3?(a=p.p2,h=p.p3,u=p.v2,f=p.v3,n=p.n2,r=p.n3):(a=p.p3,h=p.p2,u=p.v3,f=p.v2,n=p.n3,r=p.n2,p.reversed=!0);else if(p.v2<=p.v1&&p.v2<=p.v3)s=p.p2,l=p.v2,e=p.n2,p.v1<=p.v3?(a=p.p1,h=p.p3,u=p.v1,f=p.v3,n=p.n1,r=p.n3,p.reversed=!0):(a=p.p3,h=p.p1,u=p.v3,f=p.v1,n=p.n3,r=p.n1);else{if(!(p.v3<=p.v1&&p.v3<=p.v2))return;s=p.p3,l=p.v3,e=p.n3,p.v1<=p.v2?(a=p.p1,h=p.p2,u=p.v1,f=p.v2,n=p.n1,r=p.n2):(a=p.p2,h=p.p1,u=p.v2,f=p.v1,n=p.n2,r=p.n1,p.reversed=!0)}p.p1=s,p.p2=a,p.p3=h,p.v1=l,p.v2=u,p.v3=f,p.n1=e,p.n2=n,p.n3=r,this.createSegmentList(p),this.createPolygons(p),o=i},t.prototype.createSegmentList=function(t){this.segment_list_=[],t.notIntersectedPolygonValue=this.vmin_;for(var o=0,i=this.isoValues_;o<i.length;o++){var e=i[o];if(e>=t.v3)break;e>t.v1?this.addSegment(e,t):t.notIntersectedPolygonValue=e}},t.prototype.addSegment=function(t,o){var i=new h;i.iso=t;var e=o.v1,n=o.v2,r=o.v3,s=o.p1,a=o.p2,c=o.p3;if(t<o.v2){var p=f(e,n,t),l=f(e,r,t);i.p1=u(s,a,p),i.p2=u(s,c,l),i.n1=u(o.n1,o.n2,p),i.n2=u(o.n1,o.n3,l)}else p=f(n,r,t),l=f(e,r,t),i.p1=u(a,c,p),i.p2=u(s,c,l),i.n1=u(o.n2,o.n3,p),i.n2=u(o.n1,o.n3,l);this.segment_list_.push(i)},t.prototype.createPolygons=function(t){if(!((t.v1<this.vmin_||t.v1>this.vmax_)&&(t.v2<this.vmin_||t.v2>this.vmax_)&&(t.v3<this.vmin_||t.v3>this.vmax_))){var o=function(t){return[-t[0],-t[1],-t[2]]},i=!1;if(t.reversed){if(0===this.segment_list_.length)return void this.addTri(t.p1,t.p3,t.p2,t.n1,t.n3,t.n2,t.notIntersectedPolygonValue);(n=p(this.segment_list_)).iso<t.v2?this.addTri(t.p1,n.p2,n.p1,t.n1,n.n2,n.n1,t.notIntersectedPolygonValue):(i=!0,this.addQuad(t.p1,n.p2,n.p1,t.p2,t.n1,n.n2,n.n1,t.n2,t.notIntersectedPolygonValue));for(var e=1;e<this.segment_list_.length;++e)(r=this.segment_list_[e]).iso<t.v2?this.addQuad(n.p1,r.p1,r.p2,n.p2,o(n.n1),o(r.n1),o(r.n2),o(n.n2),n.iso):i?this.addQuad(n.p1,n.p2,r.p2,r.p1,n.n1,n.n2,r.n2,r.n1,n.iso):(i=!0,this.addPoly(t.p2,n.p1,n.p2,r.p2,r.p1,t.n2,n.n1,n.n2,r.n2,r.n1,n.iso)),n=r;n=l(this.segment_list_),i?this.addTri(n.p1,n.p2,t.p3,n.n1,n.n2,t.n3,n.iso):this.addQuad(t.p2,n.p1,n.p2,t.p3,t.n2,n.n1,n.n2,t.n3,n.iso)}else{if(0===this.segment_list_.length)return void this.addTri(t.p1,t.p2,t.p3,t.n1,t.n2,t.n3,t.notIntersectedPolygonValue);var n;for((n=p(this.segment_list_)).iso<t.v2?this.addTri(t.p1,n.p1,n.p2,t.n1,n.n1,n.n2,t.notIntersectedPolygonValue):(i=!0,this.addQuad(t.p1,t.p2,n.p1,n.p2,t.n1,t.n2,n.n1,n.n2,t.notIntersectedPolygonValue)),e=1;e<this.segment_list_.length;++e){var r;(r=this.segment_list_[e]).iso<t.v2||i?this.addQuad(n.p1,r.p1,r.p2,n.p2,n.n1,r.n1,r.n2,n.n2,n.iso):(i=!0,this.addPoly(t.p2,r.p1,r.p2,n.p2,n.p1,t.n2,r.n1,r.n2,n.n2,n.n1,n.iso)),n=r}n=l(this.segment_list_),i?this.addTri(n.p1,t.p3,n.p2,n.n1,t.n3,n.n2,n.iso):this.addQuad(t.p2,t.p3,n.p2,n.p1,t.n2,t.n3,n.n2,n.n1,n.iso)}}},t.prototype.addTri=function(t,o,i,n,r,a,h){var c,p,l;if(!(h<this.vmin_||h>this.vmax_)){var u=(0,s.fromValueToColor)(this.normalizeAttr(h),{defaultColor:this.color_,lutTable:this.lutTable_}),f=this.position_.length/3;(c=this.position_).push.apply(c,e(e(e([],t,!1),o,!1),i,!1)),this.index_.push(f,f+1,f+2),(p=this.colors_).push.apply(p,e(e(e([],u,!1),u,!1),u,!1)),(l=this.normals_).push.apply(l,e(e(e([],n,!1),r,!1),a,!1))}},t.prototype.addQuad=function(t,o,i,n,r,a,h,c,p){var l,u,f;if(!(p<this.vmin_||p>this.vmax_)){var d=(0,s.fromValueToColor)(this.normalizeAttr(p),{defaultColor:this.color_,lutTable:this.lutTable_}),v=this.position_.length/3;(l=this.position_).push.apply(l,e(e(e(e([],t,!1),o,!1),i,!1),n,!1)),this.index_.push(v,v+1,v+2,v,v+2,v+3),(u=this.colors_).push.apply(u,e(e(e(e([],d,!1),d,!1),d,!1),d,!1)),(f=this.normals_).push.apply(f,e(e(e(e([],r,!1),a,!1),h,!1),c,!1))}},t.prototype.addPoly=function(t,o,i,n,r,a,h,c,p,l,u){var f,d,v;if(!(u<this.vmin_||u>this.vmax_)){var y=(0,s.fromValueToColor)(this.normalizeAttr(u),{defaultColor:this.color_,lutTable:this.lutTable_}),g=this.position_.length/3;(f=this.position_).push.apply(f,e(e(e(e(e([],t,!1),o,!1),i,!1),n,!1),r,!1)),this.index_.push(g,g+1,g+2,g,g+2,g+3,g,g+3,g+4),(d=this.colors_).push.apply(d,e(e(e(e(e([],y,!1),y,!1),y,!1),y,!1),y,!1)),(v=this.normals_).push.apply(v,e(e(e(e(e([],a,!1),h,!1),c,!1),p,!1),l,!1))}},t}();o.IsoContoursFilled=a;var h=function(){this.p1=[0,0,0],this.p2=[0,0,0],this.n1=[0,0,1],this.n2=[0,0,1],this.iso=0},c=function(){this.reversed=!1,this.p1=[0,0,0],this.p2=[0,0,0],this.p3=[0,0,0],this.n1=[1,0,0],this.n2=[1,0,0],this.n3=[1,0,0],this.v1=0,this.v2=0,this.v3=0,this.notIntersectedPolygonValue=0},p=function(t){return t[0]},l=function(t){return t[t.length-1]};function u(t,o,i){var e=1-i;return[i*t[0]+e*o[0],i*t[1]+e*o[1],i*t[2]+e*o[2]]}function f(t,o,i){return 1-Math.abs(i-t)/Math.abs(o-t)}}},o={};!function i(e){var n=o[e];if(void 0!==n)return n.exports;var r=o[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}(156);